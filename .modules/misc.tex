% Page layout
\makeatletter
\@ifclassloaded{article}{
    \usepackage[b5paper]{geometry}
}
\makeatother

% Make all sections unnumbered
\setcounter{secnumdepth}{0}

% Smart quotation marks
\usepackage[maxlevel=4]{csquotes}

% Micro-typographic refinements
\usepackage{microtype}

% Ellipses
\usepackage[xspace]{ellipsis}
% Fixes spacing issues. See the Companion, 3rd ed., vol. 1, p. 148.

% Line spacing
\usepackage{setspace}
\onehalfspacing

% Silence warnings
\usepackage{silence}
\WarningFilter{microtype}{Unable to apply patch `footnote'}
% If packages `silence` and `hyperref` are used together, then do not include
% blackboard bold math characters in section titles. Otherwise, the compiler
% will enter an infinite loop. See <https://tex.stackexchange.com/q/431162>.

% Lists
\usepackage{enumitem}
% Use bullets for all levels in `itemize`
\setlist[itemize]{label=\textbullet}
% Compact spacing
\setlist[1]{noitemsep}
\setlist[2,3,4,5]{nosep}
% Lists with default spacing (see the Companion, 3rd ed., vol. 1, p. 264)
\newenvironment{denumerate}{%
    \begin{enumerate}[
            itemsep = 4pt plus 2pt minus 1pt,
            parsep = 4pt plus 2pt minus 1pt
        ]}{\end{enumerate}}
\newenvironment{ditemize}{%
    \begin{itemize}[
            itemsep = 4pt plus 2pt minus 1pt,
            parsep = 4pt plus 2pt minus 1pt
        ]}{\end{itemize}}

% The manual recommends that `hyperref` be loaded after all other packages.
\usepackage[]{hyperref}
\hypersetup{
    allcolors = violet,
    breaklinks = true,
    colorlinks = true,
    hypertexnames = false, % or `perpage` will lead to duplicate PDF anchors
}

% Set links in roman
\urlstyle{rm}
