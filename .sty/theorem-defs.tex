% Assuming the theorem style is already defined (e.g., `\theoremstyle{it}`)

\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\BeforeBeginEnvironment{theorem}{\goodbreak}
\BeforeBeginEnvironment{theorem*}{\goodbreak}
% The use of `\goodbreak` works around incorrect page-based numbering. See
% <https://texfaq.org/FAQ-wrongpn> and <https://tex.stackexchange.com/a/88186>.

\newcommand{\newthm}[2]{%
    \AddToHook{env/#1/begin}{
        \zcsetup{countertype={theorem=#1}}}
\newtheorem{#1}[theorem]{#2}
\newtheorem*{#1*}{#2}
\BeforeBeginEnvironment{#1}{\goodbreak}
\BeforeBeginEnvironment{#1*}{\goodbreak}
\zcRefTypeSetup{#1}{name-sg=#1,Name-sg=#2}
% abusing the argument `#1` as both the environment name and the lowercase name
}

\newthm{lemma}{Lemma}
\newthm{corollary}{Corollary}
\newthm{claim}{Claim}
\newthm{proposition}{Proposition}

\newthm{definition}{Definition}
\newthm{example}{Example}
\newthm{procedure}{Procedure}
\newthm{remark}{Remark}
