% -----------------------------------------------------------------------------
% Math packages that needs to be loaded before fonts

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{physics}

% -----------------------------------------------------------------------------
% Fonts

% Computer Modern (default)
% \usepackage{amsfonts}
% \usepackage{amssymb}

% Palatino (New PX)
% \usepackage{newpxtext}
% \usepackage{newpxmath}

% Palatino (TeX Gyre Pagella with `unicode-math`)
% This combination supports italic and upright greek letters.
\usepackage[
    math-style=ISO, bold-style=literal,
    mathrm=sym, mathit=sym, mathsf=sym, mathbf=sym, mathtt=sym,
    warnings-off={mathtools-colon,mathtools-overbracket},
]{unicode-math}
\setmainfont[
    BoldFont = {texgyrepagella-bold.otf},
    ItalicFont = {texgyrepagella-italic.otf},
    BoldItalicFont = {texgyrepagella-bolditalic.otf}
]{texgyrepagella-regular.otf}
\setmathfont{texgyrepagella-math.otf}
\let\boldsymbol\symbfit{} % otherwise `physics` will not function properly

% For other high-quality fonts with math support, see
% - the list of compatible fonts to `unicode-math` (check `README.md`)
% - https://wiki.carleton.edu/download/attachments/20155418/fontguide.pdf
% - https://tex.stackexchange.com/questions/425098/which-opentype-math-fonts-are-available

% -----------------------------------------------------------------------------
% HTML Conversion (lwarp)

% put this after fonts and before everything else
% \usepackage[latexmk,mathjax]{lwarp}

% Note that MathJax does not work properly at the moment. Math-related macros
% needs to be defined again for MathJax. See section 8.7.6 of the manual.

% -----------------------------------------------------------------------------
% Indices

% put this before `hyperref`
% \usepackage{imakeidx}
% \makeindex[title=Index, intoc=true]

% put this at the end of the document to print the index
% \printindex

% -----------------------------------------------------------------------------
% Links

\usepackage[]{hyperref}
\hypersetup{
    allcolors = violet,
    breaklinks = true,
    colorlinks = true
}

% put this after `hyperref` and `amsmath`, but before theorem environments
\usepackage[capitalize,noabbrev]{cleveref}

% -----------------------------------------------------------------------------
% Theorem environments and theorem/equation counters

% reset the equation counter for each page
% \numberwithin{equation}{page}

\newtheorem{theorem}{Theorem}
% or use this to reset the theorem counter for each page
% \newtheorem{theorem}{Theorem}[page]

% Starred versions produce unnumbered environments. Many of them are commented
% to avoid confusion, since they are rarely used.

% \newtheorem*{theorem*}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
% \newtheorem*{corollary*}{Corollary}
\newtheorem*{claim}{Claim}
% \newtheorem*{claim*}{Claim}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
% \newtheorem{definition*}{Definition}
\newtheorem{example}[theorem]{Example}
% \newtheorem*{example*}{Example}
\newtheorem{exercise}[theorem]{Exercise}
% \newtheorem*{exercise*}{Exercise}

\theoremstyle{remark}
\newtheorem*{note}{Note}
\newtheorem*{remark}{Remark}

% \usepackage{enumerate}
% \newenvironment{axioms}{\begin{enumerate}[\bf {Axiom} 1.]}{\end{enumerate}}
% \newenvironment{hypotheses}{
%     \begin{enumerate}[\bf {Hypothesis} 1.]}{\end{enumerate}}

% -----------------------------------------------------------------------------
% Math macros

% to define commands with stars
% \usepackage{suffix}

\newcommand{\opn}[1]{\operatorname{#1}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}

\newcommand{\e}{\mathrm{e}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\ppi}{\mathrm{\pi}}

\newcommand{\mm}[1]{\vb*{#1}}

\newcommand{\vv}[1]{\vb*{#1}}
% or use this instead if `newpxmath` is used
% \renewcommand{\vv}[1]{\vb*{#1}}

% -----------------------------------------------------------------------------
% Other math related

% to label systems of equations
% \usepackage{empheq}

% -----------------------------------------------------------------------------
% Figures, tables, code listings, etc.

\usepackage[dvipsnames]{xcolor}

% subfigures
% \usepackage{caption}
% \usepackage{subcaption}

% figures
% It is recommended to create separate files for figures.
% \usepackage{tikz}
% \usepackage{pgfplots}
% \pgfplotsset{compat=1.18}

% pseudocode
% \usepackage[noend]{algpseudocode}
% \usepackage{algorithm}

% tables
% see also https://nick-shm.gitlab.io/notes-snippets/latex/graph/tables/
\usepackage{tabularx}
\usepackage{multirow}

% -----------------------------------------------------------------------------
% Bibliography

% APA
% \usepackage[backend=biber, style=apa]{biblatex}

% Chicago (author-date)
% \usepackage[authordate, backend=biber]{biblatex-chicago}

% add this to the preamble
% \addbibresource{file.bib}

% and print bibliography with this
% \printbibliography[heading=bibintoc]{}

% make `\citeyear` and `\citeyearpar` links (to typeset "name's (year)")
% \DeclareCiteCommand{\citeyear}
% {}{\bibhyperref{\printfield{year}}}{\multicitedelim}{}
% \DeclareCiteCommand{\citeyearpar}
% {}{\mkbibparens{\bibhyperref{\printfield{year}}}}{\multicitedelim}{}

% -----------------------------------------------------------------------------
% Miscellaneous

% make all sections unnumbered
% \setcounter{secnumdepth}{0}

% to control spacing
\usepackage{setspace}

% smart quotation marks
\usepackage[maxlevel=4]{csquotes}
