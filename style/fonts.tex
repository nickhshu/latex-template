% -----------------------------------------------------------------------------
% Package `unicode-math`
\usepackage[
    math-style=ISO, bold-style=ISO,
    partial=upright,
    mathrm=sym, mathit=sym, mathsf=sym, mathbf=sym, mathtt=sym,
    warnings-off={mathtools-colon,mathtools-overbracket},
]{unicode-math}

% -----------------------------------------------------------------------------
% Main text font (TeX Gyre Pagella)

\usepackage{pagella-otf} % also sets the math font

% Alternatively, Palatine Parliamentary (not included in TeX Live)
% \setmainfont{PalatineP}[
%     UprightFont = *-Regular,
%     ItalicFont = *-Italic,
%     ItalicFeatures = { SmallCapsFont = *-Italic },
%     SlantedFont = *-Regular,
%     SlantedFeatures = { FakeSlant = 0.2 },
%     BoldFont = *-Bold,
%     BoldFeatures = { SmallCapsFont = *-Bold },
%     BoldItalicFont = *-Bolditalic,
%     BoldItalicFeatures = { SmallCapsFont = *-BoldItalic },
%     BoldSlantedFont = *-Bold,
%     BoldSlantedFeatures = {
%             FakeSlant = 0.2,
%             SmallCapsFont = *-Bold
%         },
%     SmallCapsFont = *-Regular,
%     SmallCapsFeatures ={ Letters = SmallCaps },
%     Extension = .otf
% ]

% -----------------------------------------------------------------------------
% Math fonts

% TeX Gyre Pagella, but ...
\setmathfont[
    AutoFakeBold
]{texgyrepagella-math.otf}

% ... use Latin Modern for symbols
\setmathfont[
    AutoFakeBold,
    range={\mathop,\mathbin,\mathrel,\mathcal,\sqrt}
]{latinmodern-math.otf}

% Neither Pagella nor Latin Modern has `\setminus`. Weird bug.
% See <https://tex.stackexchange.com/a/140343>.
\AtBeginDocument{
    \renewcommand{\setminus}{\mathbin{\backslash}}%
}

% -----------------------------------------------------------------------------
% Sans-serif font (Fira Sans)
% \usepackage{FiraSans} % commented by default to speed up compilation

% -----------------------------------------------------------------------------
% Monospace font (Fira Mono)
\usepackage[scale=.8, nomap]{FiraMono}
