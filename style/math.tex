% Additional math packages
\usepackage{lualatex-math}
\usepackage{physics}

% -----------------------------------------------------------------------------
% Math macros

% Define commands with stars
\usepackage{suffix}

\newcommand{\opn}[1]{\operatorname{#1}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}

\newcommand{\e}{\mathrm{e}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\ppi}{\mathrm{\pi}}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\ol}[1]{\overline{#1}}
% Note that using `\overline{x} \overline{y}` will result in the two lines
% connecting with each other. Still `\overline` is favored over `\bar` since
% the latter looks ugly with `\underline`

% -----------------------------------------------------------------------------
% Bold math

% To my knowledge, there is no straightforward way to typeset bold math. The
% main problem is that font commands in `unicode-math` do not nest.

% This is a workaround. Use `\mm` and `\vv` for bold italic letters. Use `\mm*`
% and `\vv*` for bold upright letters.
\newcommand{\mm}[1]{\symbfit{#1}}
\WithSuffix\newcommand\mm*[1]{\symbfup{#1}}
\newcommand{\vv}[1]{\symbfit{#1}}
\WithSuffix\newcommand\vv*[1]{\symbfup{#1}}

% Use the following if `unicode-math` is not used.
% \newcommand{\mm}[1]{\vb*{#1}}
% \WithSuffix\newcommand\mm*[1]{\vb{#1}}
% \newcommand{\vv}[1]{\vb*{#1}} % use `\renewcommand` if `newpxmath` is used
% \WithSuffix\newcommand\vv*[1]{\vb{#1}}
