% Smart quotation marks
\usepackage[maxlevel=4]{csquotes}

% Microtypography
\usepackage{microtype}

% Code listings
\usepackage{listings}
\usepackage{lstautogobble}
\lstset{basicstyle=\ttfamily, autogobble=true, xleftmargin=3em}

% Chicago-style ellipses
\usepackage{moredefs, lips}
% See <https://nick-shm.gitlab.io/notes-snippets/latex/text/ellipses>.

% Line spacing
\usepackage{setspace}
\onehalfspacing

% Silence warnings
\usepackage{silence}
\WarningFilter{microtype}{Unable to apply patch `footnote'}
\WarningFilter{perpage}{\stepcounter probably at start of vertical list:}

% Work around a bug when using `hyperref` and `silence` together. The compiler
%  will enter into an infinite loop if there is a blackboard bold math
% character in section titles. See <https://tex.stackexchange.com/a/451569>.
\makeatletter
\pdfstringdefDisableCommands{\let\@latex@error\@gobbletwo}
\makeatother

% Endnotes
% \usepackage{endnotes}
% \let\footnote=\endnote

% Ragged text
\usepackage{ragged2e}

% Compact lists
\newenvironment{citemize} {%
    \begin{itemize}
        \setlength{\itemsep}{0pt}
        \setlength{\parskip}{0pt}
        \setlength{\parsep}{0pt}
        \setlength{\parindent}{15pt}
        }{%
    \end{itemize}
}
\newenvironment{cenumerate} {%
    \begin{enumerate}
        \setlength{\itemsep}{0pt}
        \setlength{\parskip}{0pt}
        \setlength{\parsep}{0pt}
        }{%
    \end{enumerate}
}
